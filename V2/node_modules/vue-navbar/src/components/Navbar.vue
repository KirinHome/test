<template>
	<div class="nav-bar" v-bind:style="{ background:bgcolor,height:height,padding:padding}">
	<div class="btn-back" @click="backtap">
		<img class="arrow-back" src="../assets/back.png" >
	</div>
		<div class="title" >
	      {{title}}
	    </div>
	    <span class="btn-right" @click="toggletap">{{rightbtn}}</span>
	</div>
</template>
<style>
	*{
		margin: 0;
		padding: 0;
		box-sizing: border-box;
	}
	body{
		box-sizing:border-box;
		-moz-box-sizing:border-box; /* Firefox */
		-webkit-box-sizing:border-box; /* Safari */
	}

  .nav-bar {
    width: 100%;
    height: 42px;
    background-color: #fff;
    position: relative;
    z-index: 1000;
    color: #fff;
  }

  .nav-bar .arrow-back {
    width: 21px;
    height: 17px;
    margin-top: 13px;
  }
  .nav-bar .btn-back{
  	width: 30px;
  	height: 42px;
    float: left;
    position: absolute;
    bottom: 0;
    left: 25px;
    padding-right: 25px;
  }

  .nav-bar .title {
    width: 100%;
    text-align: center;
    font-size: 16px;
    line-height: 42px;
  }
  .btn-right{
  	position: absolute;
  	right: 20px;
  	line-height: 42px;
  	font-size: 15px;
  	bottom: 0;
  }
</style>
<script>

	export default {
		props:{
			// btnclick: Function,
			bgcolor:{
				type:String
			},
			title:{
				type:String
			},
			rightbtn:{
				type:String
			}
		},

		data:function(){
			return {
				height:'44px',
			    padding:0
			}
		},

		created:function(){
			this.setheight();
		},

		methods:{
			//点击事件
			toggletap(item){
			    // console.log(item);
			    this.$emit('tapevent',item);
			},

			backtap(){
				this.href('http://action:3413');
			},

			//设置头部高度
			setheight(){
				var appVersion = navigator.appVersion.toLocaleLowerCase();
				if(this.isAndroid(appVersion)){
					this.height = 42+'px';
					this.padding = 0;
				}else if(this.isIOS(appVersion)){
					this.height = 64+'px';
					this.padding = '22px 0 0 0';
				}
			},
			/**
	         * 判断是否为android平台
	         */
	        isAndroid(appVersion) {
	            return (appVersion.indexOf("android") > 0);
	        },

	        /**
	         * 判断是否为iOS平台
	         */
	        isIOS(appVersion) {
	            return (appVersion.indexOf("iphone") > 0 || appVersion.indexOf("ipad") > 0);
	        },
	        /**
	         * override各平台的 href，对win/android特殊处理
	         */
	        href(url) {
	        	var appVersion = navigator.appVersion.toLocaleLowerCase();
	            if (appVersion.indexOf("windows phone") > 0) {
	                window.external.notify(url);
	            } else if (appVersion.indexOf("android") > 0) {
	                window.MyWebView.onJsOverrideUrlLoading(url);
	            } else {
	                // use the default href for iphone, PC and others.
	                window.location.href = url;
	            }
	        }
		}
	}

</script>


